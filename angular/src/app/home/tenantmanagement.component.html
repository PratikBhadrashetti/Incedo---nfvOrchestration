<div class="container" style="margin-top:10px;" *ngIf="showtenantvim!==true">
    <div class="row">
        <div class="col-md-3"></div>
       <div class="col-md-12">
           <div class="loading" *ngIf="loadingImg"> <div class="center"><img src="assets/images/loading.gif"/></div></div> 
<div class="alert alert-danger errorDiv" role="alert" *ngIf="statusMsg">
  <strong>{{statusMsg}}</strong><span class='pull-right' style="cursor:pointer;color:red;"(click)="hideStatusMsg()">X</span>  
</div>
<button type="button" class="btn btn-primary btn-sm margin-5px-bottom" data-toggle="modal" data-target="#addTenantModal">Add Tenant</button>
             <!--<div class="card">
                    <div class="card-block">
                        <div class="col-md-12">
                            <form class="form-horizontal" (ngSubmit)="f.form.valid && saveTenanat()" #f="ngForm">
                            <div class="form-group">
                                <label for="email" class="col-sm-3 control-label">Tenant Name</label>
                                <div class="col-sm-9">
                                 <input type="text" class="form-control" name="tenantName" [(ngModel)]="model.tenantName" #tenantName="ngModel" placeholder="Tenant name">
                                    
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="email" class="col-sm-3 control-label">Email</label>
                                <div class="col-sm-9">
                                <input type="email" class="form-control" id="tenantEmail" name="tenantEmail" [(ngModel)]="model.tenantEmail" #tenantEmail="ngModel" required placeholder="email" required>
                                </div>
                            </div>
                           
                            <div class="form-group">
                                <div class="col-sm-offset-3 col-sm-9">
                                <button type="submit" class="btn btn-default">Save</button>
                                </div>
                            </div>
                            </form>
                          
                        </div>
                    
                    </div>
                    </div>-->
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="col-md-12">
                           <div class="table-responsive"> 
                               <table class="table"> 
                                   <thead> 
                                       <tr> 
                                           <th>#</th> 
                                           <th>Name</th> 
                                           <th>VIM Project</th>
                                           <th>VIM Project Username</th>
                                           <th>VIM Project Password</th>
                                           <th>Assign VIM</th>
                                           <!--<th>Allocated IP</th>
                                           <th>Used IP</th>-->
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        <tr *ngFor="let alltenant of tenants; let i=index"> 
                                            <th scope="row">{{i+1}}</th> 
                                            <td>{{alltenant.name}}</td> 
                                            <td>{{alltenant.project}}</td>
                                            <td>{{alltenant.projectusername}}</td>
                                            <td>{{alltenant.projectpassword}}</td>
                                            <td><button type="button" class="btn btn-primary btn-xs" (click)='sendTenantID(alltenant.id,alltenant.name)'><span class="glyphicon glyphicon-random"></span></button></td>
                                            <!--<td>
                                             {{alltenant.allocatedip}}<button type="button" class="btn btn-primary btn-xs" style="margin-left:5px;" (click)='saveEditable(alltenant.id)'><span class="glyphicon glyphicon-plus"></span></button>
                                             <button type="button" class="btn btn-primary btn-xs" [disabled]="allocateStatus(alltenant.usedip,alltenant.allocatedip)" (click)='decallocatedIP(alltenant.id)'><span class="glyphicon glyphicon-minus"></span></button>
                                            </td>
                                            <td>{{alltenant.usedip}}</td>-->
                                                                                       
                                        </tr> 
                                     
                                    </tbody> 
                                </table> 
                            </div>
                          
                        </div>
                    
                     </div>
                    </div>
                    </div>
<div class="col-md-3"></div>
                </div>
            </div>


<!-- Modal -->
<div class="modal fade" id="addTenantModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
      <form   #tenantForm="ngForm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Add Tenant Network</h4>
      </div>
      <div class="modal-body">
        <div  class="form-horizontal">
            <div class="form-group">
                              <label for="tname" class="col-sm-3 control-label">Tenant Name</label>
                                <div class="col-sm-9">
                                 <input type="text" class="form-control" name="tenantName" [(ngModel)]="model.tenantName" #tenantName="ngModel" placeholder="Tenant name">
                                    
                                </div>
                          </div>
                          <div class="form-group" >
                              <label for="email" class="col-sm-3 control-label">Email</label>
                                <div class="col-sm-9">
                                <input type="email" class="form-control" id="tenantEmail" name="tenantEmail" [(ngModel)]="model.tenantEmail" #tenantEmail="ngModel" required placeholder="email" required>
                                </div>
                          </div>
                        
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" [disabled]="!tenantForm.valid" (click)='saveTenanat()' data-dismiss="modal">Save</button>
      </div>
    </div>
      </form>
  </div>
</div>

<div class="container" style="margin-top:10px;" *ngIf="showtenantvim==true">
<div class="row">
<div class="col-md-3"></div>
<div class="col-md-12">
    <button class="btn btn-primary  btn-sm margin-5px-bottom" (click)="cancelTenantVim()" >Back</button>
          <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="col-md-6 right-bar">
                            <h4>Assigned VIM</h4>
                            <hr>
                           <div class="table-responsive"> 
                               <table class="table"> 
                                   <thead> 
                                       <tr> 
                                           <th>#</th> 
                                           <th>Name</th> 
                                           <th>IP Address</th>
                                           <!--<th>Actions</th>-->
                                           <th>Allocated IP</th>
                                           <th>Used IP</th>
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        <tr *ngFor="let tenantvim of tenantvims; let i=index"> 
                                            <th scope="row">{{i+1}}</th> 
                                            <td>{{tenantvim.name}}</td> 
                                            <td>{{tenantvim.ipaddress}}</td>
                                            <!--<td><button type="button" class="btn btn-primary btn-xs" (click)='getBodyFromListVim(tenantvim)'>Assign</button></td>-->
                                             <td *ngFor="let allusedip of getAllocatedUsedIp; let j=index">
                                                <div *ngIf="j==0" class="pull-left">{{getAllocatedUsedIp[0]}}</div>
                                             
                                             <button *ngIf="j==0" type="button" class="btn btn-primary btn-xs" (click)='incallocatedIP(tenantvim.id)' style="margin-left:5px;" ><span class="glyphicon glyphicon-plus"></span></button>
                                             <button *ngIf="j==0" type="button" class="btn btn-primary btn-xs" [disabled]="allocateStatus(getAllocatedUsedIp[1],getAllocatedUsedIp[0])" (click)='decallocatedIP(tenantvim.id)'><span class="glyphicon glyphicon-minus"></span></button>
                                            
                                                <div *ngIf="j==1">{{getAllocatedUsedIp[1]}}</div>
                                            </td>
                                                                   
                                        </tr> 
                                    </tbody> 
                                </table> 
                            </div>
                          
                        </div>
                        
                        <div class="col-md-6">
                            <h4>Unassigned VIM</h4>
                            <hr>
                           <div class="table-responsive"> 
                               <table class="table"> 
                                   <thead> 
                                       <tr> 
                                           <th>#</th> 
                                           <th>Name</th> 
                                           <th>IP Address</th>
                                           <th>Action</th>
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        <tr *ngFor="let tenantvim of tenantvimsunassigned; let i=index"> 
                                            <th scope="row">{{i+1}}</th> 
                                            <td>{{tenantvim.name}}</td> 
                                            <td>{{tenantvim.ipaddress}}</td>
                                            <td><button type="button" class="btn btn-primary btn-xs" (click)='getBodyFromListVim(tenantvim)'>Assign</button></td>
                                                                     
                                        </tr> 
                                    </tbody> 
                                </table> 
                            </div>
                          
                        </div>
                     </div>
                    </div>
                   
                </div>

                </div>
                
                    <div class="col-md-3"></div>
<router-outlet></router-outlet>